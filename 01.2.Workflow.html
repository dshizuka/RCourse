<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Dai Shizuka" />


<title>Part 1.2: File Organization, Version Control, and Workflow</title>

<script src="site_libs/header-attrs-2.21/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/sandstone.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>









<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Intro to R</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="syllabus.html">Syllabus</a>
</li>
<li>
  <a href="modules.html">Modules</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Part 1.2: File Organization, Version
Control, and Workflow</h1>
<h3 class="subtitle">BIOS 967: Intro to R for Biologists</h3>
<h4 class="author">Dai Shizuka</h4>
<h4 class="date">updated 08/24/23</h4>

</div>


<p><em>Note: You can get a lot of this information from Hadley Wickham’s
“R for Data Science” book, Chapter 8: <a
href="https://r4ds.had.co.nz/workflow-projects.html">here</a>, and the
<a href="https://happygitwithr.com/">https://happygitwithr.com/</a>
tutorials.</em></p>
<div
id="navigating-folders-and-files-using-absolute-paths-but-dont-do-this"
class="section level2">
<h2>1. Navigating folders and files using absolute paths (but don’t do
this!)</h2>
<p>As explained in the previous module, the Working Directory defines
where R will look for files, or where it will save files that you
generate. R uses pathnames to arrange these files (as do all programming
languages). These are sometimes called “absolute paths”. Once you
understand how path names work, it can be really handy to be able to
pull data in and out from wherever on your computer. However, this can
quickly get cumbersome. Moreover, it makes it hard to port your scripts
from one computer to another, since pathnames on different computers
will end up being different.</p>
<p>For example, if I were to create a new data file and save it as a
.csv file on the desktop on my own computer (Mac), the path name might
look like this: <code>/Users/daishizuka/Desktop/data.csv</code></p>
<p>But if I copy and paste the exact same file and save it on the
desktop of one of my lab computers (Windows), the path name might look
like this: <code>C:\Users\ShizukaLab\Desktop\data.csv</code></p>
<p>This means that if your code script references this dataset, you
can’t just run the same code to import data on different computers. Now,
this might not feel like a big problem for you if you plan to do all of
your analyses on your own computer, and you know where all the files on
your computer are. HOWEVER, this is a major hindrance to collaboration.
Also, it is a major hindrance to me teaching this class, as I can’t
easily try out your code to help you troubleshoot.</p>
<p>That’s where RStudio Projects come in…</p>
</div>
<div id="using-rstudio-projects-and-organizing-your-files."
class="section level2">
<h2>2. Using Rstudio Projects and organizing your files.</h2>
<p>Rstudio projects facilitate a important “best practice” for
developing code to facilitate your research, which is to make sure that
<strong><em>for each project, create one folder that contains all of
your data, scripts, outputs (e.g., plots) and other
assets.</em></strong></p>
<p>Additionally, I highly recommend that this “project directory” folder
includes a subfolder called “data” that contain all of the data files,
and “figures” (or some other name) folder that will contain all of the
output plots, etc.</p>
<p>Setting up a project directory in this way allows you to keep
everything organized and up to date, and it also helps with
collaborations or sharing code, because it is easy to follow where
things are. It is also nice for your “future self”–if you come back to a
project after some time, it is easy to pick up where you left off
without wondering where you left all of the relevant files.</p>
<p>Finally, the more important reason to set up an Rstudio project
folder is that it will allow anyone to run the code you are developing
in this folder because you all of your pathnames will be “relative” to
the parent directory. By using “relative path” names in your code, it
becomes much more reproducible and enables collaboration.</p>
<div id="setting-up-a-new-rstudio-project-folder"
class="section level3">
<h3>2.1. Setting up a new Rstudio project folder</h3>
<p>Here is what I recommend for every project you start:</p>
<ol style="list-style-type: decimal">
<li>Create a folder that will be your main “project folder”.</li>
</ol>
<p><em>Try this out be creating a “trial” Folder somewhere in your
computer.</em></p>
<ol start="2" style="list-style-type: decimal">
<li><p>Next, in R Studio, click on “File” &gt; “New Project”</p></li>
<li><p>Click on “Existing Directory”, click “Browse” and select the
“trial” Folder you created, then click “Create Project”</p></li>
<li><p>Now, you will see that there is a new “trial.rproj” file in your
folder.</p></li>
<li><p>Open that .rproj file. This will open up a new RStudio
window.</p></li>
<li><p>Now, whenever you create any file within this R Project, the
files will automatically go into this folder. Also, if you want to
import any files, you can just put in the file name instead of the whole
path.</p></li>
</ol>
<p>Try this out by saving a pre-loaded data frame as a spreadsheet file:
Here, we’ll save the “iris” data set as a .csv file.</p>
<pre class="r"><code>write.csv(iris, file=&quot;iris.csv&quot;)</code></pre>
<p>You see this new .csv file in your project folder.</p>
</div>
</div>
<div id="version-control-and-collaboration-using-git-and-github"
class="section level2">
<h2>3. Version control and collaboration using Git and GitHub <img
src="images/github-mark.png" style="width:10.0%" /></h2>
<p><strong><em>Version control</em></strong> is a system by which you
can keep track of changes to collaborative projects. One common example
is Google Doc, which is an online document that multiple people can
collaborate on. Importantly, Google Doc automatically saves versions of
the document when changes are made, and users can revert back to earlier
versions if they want.</p>
<p><strong><em>Git</em></strong> is an open-source software that
facilitates version control of files in <em>repositories</em> (which is
another way of saying <em>project directory</em>).</p>
<p><strong><em>GitHub</em></strong> is a service that facilitates
Git-based projects. There are other popular similar services, such as
Bitbucket and GitLab</p>
<div id="why-are-we-using-version-control-and-github"
class="section level3">
<h3>3.1. Why are we using version control and GitHub</h3>
<ul>
<li><p>For practical purposes, <strong>this system will help me teach
this class</strong>. If we do this right, it will help tremendously with
the process of troubleshooting your code when we get to independent
projects! It will allow me to access your projects on my computer, help
make edits, and keep track of those edits.</p></li>
<li><p>The larger reason is that <strong>this will help you with your
research</strong>. You will no doubt be using R (and perhaps other
coding languages) for your research, and this enables a workflow that is
portable from one computer/collaborator to another.</p></li>
<li><p>It will expand the scope of your work. Once you make a project
repository, you can make it private or public. If you make a public
repository, then you can share it with colleagues. Likewise, you can
<em>fork</em> any other public repository–this is increasingly the way
people disseminate new software or packages for cutting-edge analysis
techniques.</p></li>
<li><p><strong>You’ll impress people!</strong></p></li>
</ul>
</div>
<div
id="set-up-a-github-repository-for-this-course-and-set-it-up-to-talk-to-rstudio"
class="section level3">
<h3>3.2. Set up a GitHub repository for this course, and set it up to
talk to Rstudio</h3>
<p><em>Here, we are following the directions on <a
href="https://happygitwithr.com/install-git">Chapter 6-13 of the Happy
git with R website, here</a></em></p>
</div>
<div id="create-a-github-account" class="section level3">
<h3>3.2.1. Create a GitHub account</h3>
<p>Go to <a href="https://github.com/">github.com</a> and sign up for an
account.</p>
</div>
<div id="check-if-you-have-git-installed" class="section level3">
<h3>3.2.2 Check if you have Git installed</h3>
<p>The simplest way to do this is use the <strong>Shell</strong> on your
computer. You have this already, whether or not you know it.</p>
<ul>
<li>On a Mac, search for “Terminal” on your computer. You can either
look in the Applications folder or search for “Terminal.app” in
Spotlight</li>
</ul>
<p><img src="images/Spotlight_terminal.png" style="width:50.0%" /></p>
<ul>
<li>On a Windows computer, search for “Shell”</li>
</ul>
<p>Either way, the Shell/Terminal window often looks something like
this, with a black background and courier or monaco font.k</p>
<p><img src="images/Shell_window.png" style="width:50.0%" /></p>
<p>Then type in this window:</p>
<pre eval="F"><code>which git</code></pre>
<p>If it responds with something like:</p>
<pre><code>## /usr/bin/git</code></pre>
<p>then it means you have Git installed already.</p>
<p>Now check the version:</p>
<pre eval="F"><code>git --version</code></pre>
<p>It should give you the version number.</p>
</div>
<div id="install-a-git-client" class="section level3">
<h3>3.2.3. Install a Git Client</h3>
<p>There are many Git clients out there. Personally, I just use <a
href="https://desktop.github.com/">GitHub Desktop</a> <img
src="images/Github-desktop-logo.png" style="width:10.0%" /></p>
<p>Git Clients provide a graphical user interface (GUI) that facilitates
the processes of committing, pushing, pulling and other tasks. It also
allows you to see the history of changes to your repository.</p>
</div>
<div id="create-a-personal-access-token-on-github"
class="section level3">
<h3>3.2.4. Create a Personal Access Token on GitHub</h3>
<p>When linking a GitHub repository with Rstudio, you will need to be
able to authenticate your connection. To increase security, GitHub no
longer supports access using a simple password. Instead, it requires you
to authenticate using a personal access token. You need to generate a
token, and then you will use this later to connect Rstudio with your
repository.</p>
<ul>
<li>Go to <a
href="https://github.com/settings/tokens">https://github.com/settings/tokens</a>
and click “Generate token”. Your settings should include “repo”, “user”,
“workflow”, and I would set the expiration date to be at least the end
of the semester (e.g., December 15th, 2023). <strong>SAVE THIS
TOKEN</strong>.</li>
</ul>
<p><em>(The longer way to go is to sign in to github, Click on your
avatar on the top-right corner, then go to Settings &gt; Developer
settings (at the very bottom) &gt; Personal access tokens &gt; Tokens
(classic))</em></p>
</div>
<div id="make-a-repository-repo-on-github." class="section level3">
<h3>3.2.5. Make a repository (“repo”) on GitHub.</h3>
<p>Log into <a href="https://github.com">github</a>, click on
“Repositories”, then click the big green “New” button</p>
<ul>
<li>Repository template: No template</li>
<li>Repository name: <code>BIOS967_YourLastName_YourFirstName</code>
<strong><em>please follow this template for naming your repository–this
allows me to easily find your repo on my end</em></strong></li>
<li>Initialize this repository with: Add a README file.</li>
</ul>
<p>Click on “Create Repository”</p>
<p>Now, click on the green button that says “&lt;&gt;Code”</p>
<p>Copy the clone URL to your clipboard. Use the HTTPS URL.</p>
<p><img src="images/github-https-or-ssh-url-annotated.png"
style="width:50.0%" /></p>
</div>
<div id="clone-the-github-repository-to-your-computer-via-rstudio"
class="section level3">
<h3>3.2.6. Clone the GitHub repository to your computer via RStudio</h3>
<p>In RStudio, start a new project: File &gt; New Project &gt; Version
Control &gt; Git. In “Repository URL”, paste the URL of your new GitHub
repository.</p>
<p>Determine where your project will be saved locally. Be intentional. I
have all of my GitHub repositories saved in my Documents folder in a
subfolder called “GitHub”.</p>
<p>Check “Open in new session”</p>
<p>Click “Create Project”.</p>
</div>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
